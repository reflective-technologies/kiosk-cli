{"id":"kiosk-cli-00s","title":"Add kiosk init command","description":"Create new `kiosk init` command that:\n- Requires authentication (like publish)\n- GETs /api/prompts/init\n- Invokes Claude Code with `default` permission mode (safe=true)\n- Runs in current working directory\n\nThis command helps users create a KIOSK.md file for their repository.","status":"closed","priority":1,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T16:05:02.713538-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T16:18:41.227687-05:00","closed_at":"2026-01-19T16:18:41.227687-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-00s","depends_on_id":"kiosk-cli-d9z","type":"parent-child","created_at":"2026-01-19T16:05:12.055557-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-00s","depends_on_id":"kiosk-cli-kn8","type":"blocks","created_at":"2026-01-19T16:05:17.155066-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-09i","title":"Add 'kiosk install' as alias for 'kiosk run'","description":"Make install command a simple alias for run command, with updated help text to reflect this relationship","status":"closed","priority":2,"issue_type":"feature","owner":"cole@kiosk.app","created_at":"2026-01-20T22:17:52.187995559Z","created_by":"Cole Brown","updated_at":"2026-01-20T22:24:06.712963485Z","closed_at":"2026-01-20T22:24:06.712963485Z","close_reason":"Closed"}
{"id":"kiosk-cli-0b5","title":"Add kiosk update command for self-update","description":"Implement self-update command that fetches latest release from GitHub, downloads appropriate artifact for OS/arch, and replaces the current binary.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:45:45.58739-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:46:55.056304-05:00","closed_at":"2026-01-18T16:46:55.056304-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-0o5","title":"Investigate Go toolchain version mismatch","description":"go test ./... fails: compile version go1.24.6 does not match go tool version go1.25.6","status":"closed","priority":3,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:18:15.997615-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:20:42.027268-05:00","closed_at":"2026-01-18T16:20:42.027268-05:00","close_reason":"Tests pass when using gvm go1.24.6"}
{"id":"kiosk-cli-1ww","title":"Update kiosk publish to use new endpoint","description":"Update `kiosk publish` command:\n- Change endpoint from /api/create to /api/prompts/publish\n- Add warning if KIOSK.md is not found in cwd (but continue execution)\n- Keep existing permission behavior (bypassPermissions by default, --safe flag for default mode)\n\nThe publish prompt is now more focused on the registry publishing step.","status":"closed","priority":1,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T16:05:02.989089-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T16:18:41.240536-05:00","closed_at":"2026-01-19T16:18:41.240536-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-1ww","depends_on_id":"kiosk-cli-d9z","type":"parent-child","created_at":"2026-01-19T16:05:12.063668-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-1ww","depends_on_id":"kiosk-cli-kn8","type":"blocks","created_at":"2026-01-19T16:05:17.217809-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-270","title":"Release pipeline with versioning and CI","description":"Add proper semantic versioning and GitHub Actions CI pipeline to build releases for macOS (arm64/amd64) and Linux (arm64/amd64). Releases triggered by git tags (v1.2.3). Homebrew tap to be added later in separate effort.","status":"closed","priority":2,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:32:33.51836-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:40:58.51894-05:00","closed_at":"2026-01-18T16:40:58.51894-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-2m6","title":"Explore ANSI parser/terminal emulation for PTY overlay","description":"Investigate implementing a terminal emulation layer to render PTY output inside the TUI (for static title bar / chrome). Evaluate minimal ANSI parser vs. full emulator, required sequences, and libraries. Document feasibility and integration approach for kiosk-cli.","status":"open","priority":3,"issue_type":"task","owner":"cole@kiosk.app","created_at":"2026-01-27T22:08:29.197528859Z","created_by":"Cole Brown","updated_at":"2026-01-27T22:08:29.197528859Z"}
{"id":"kiosk-cli-556","title":"Add curl|sh installer script","description":"Create install.sh that detects OS/arch, downloads latest release from GitHub, and installs to ~/.local/bin. Add installation instructions to README.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:42:09.487084-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:44:45.075267-05:00","closed_at":"2026-01-18T16:44:45.075267-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-6im","title":"Claude session control in TUI","description":"Implement TUI-driven Claude session lifecycle (start/suspend/switch/resume) using PTY. Requirements: start claude with --session-id \u003cuuid\u003e (new uuid per app first run) and store mapping appKey-\u003esessionId under ~/.kiosk/sessions.json. Resume via 'claude --resume \u003cid\u003e' when switching back to an app. Suspend should terminate claude by sending SIGINT twice (likely with small delay ~50ms); ensure graceful session persistence. Proxy app IO through PTY; intercept detach key (proposed ctrl+k) to suspend and return to TUI. Ensure terminal modes restored on exit.","status":"open","priority":2,"issue_type":"epic","owner":"cole@kiosk.app","created_at":"2026-01-27T19:48:10.110640116Z","created_by":"Cole Brown","updated_at":"2026-01-27T19:48:10.110640116Z"}
{"id":"kiosk-cli-6lg","title":"Implement 'api' subcommand for direct Kiosk API interaction","description":"Add a new 'api' subcommand to 'kiosk-cli' to allow direct interaction with the Kiosk API. This will facilitate easier testing and usage by coding agents. It must support 'list', 'get', 'create', 'update', 'delete', and 'refresh' operations, respecting the 'apiUrl' config. 'create' and 'update' must support JSON input via file or stdin ('-f').","status":"closed","priority":2,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:25.296899-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.536479-05:00","closed_at":"2026-01-19T12:49:45.536479-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-6lg.1","title":"Extend API Client","description":"Update 'internal/api/client.go' to include methods for 'CreateApp', 'UpdateApp', 'DeleteApp', 'RefreshApp', and 'ListApps'.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:30.369283-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.477182-05:00","closed_at":"2026-01-19T12:49:45.477182-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-6lg.1","depends_on_id":"kiosk-cli-6lg","type":"parent-child","created_at":"2026-01-19T12:41:30.369945-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-6lg.2","title":"Implement 'api' command structure","description":"Create 'cmd/api.go' and the base 'api' command.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:35.46698-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.489798-05:00","closed_at":"2026-01-19T12:49:45.489798-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-6lg.2","depends_on_id":"kiosk-cli-6lg","type":"parent-child","created_at":"2026-01-19T12:41:35.467596-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-6lg.3","title":"Implement 'api list' and 'api get'","description":"Implement subcommands to read data from the API.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:40.562933-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.501992-05:00","closed_at":"2026-01-19T12:49:45.501992-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-6lg.3","depends_on_id":"kiosk-cli-6lg","type":"parent-child","created_at":"2026-01-19T12:41:40.563558-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-6lg.4","title":"Implement 'api create' and 'api update'","description":"Implement subcommands to write data. Must support '-f' flag to read JSON payload from a file or stdin.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:45.662773-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.513911-05:00","closed_at":"2026-01-19T12:49:45.513911-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-6lg.4","depends_on_id":"kiosk-cli-6lg","type":"parent-child","created_at":"2026-01-19T12:41:45.663368-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-6lg.5","title":"Implement 'api delete' and 'api refresh'","description":"Implement subcommands for delete and refresh operations.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T12:41:50.754773-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T12:49:45.52506-05:00","closed_at":"2026-01-19T12:49:45.52506-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-6lg.5","depends_on_id":"kiosk-cli-6lg","type":"parent-child","created_at":"2026-01-19T12:41:50.755539-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-6x1","title":"Handle error from os.Stdin.Stat()","description":"In readJSONInput, the error from os.Stdin.Stat() is ignored. Handle it properly.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:05:06.18795-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:07:13.218913-05:00","closed_at":"2026-01-19T13:07:13.218913-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-745","title":"Set up GoReleaser configuration","description":"Add .goreleaser.yaml with builds for macOS arm64/amd64 and Linux arm64/amd64. Configure GitHub Releases with checksums and archives.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:32:46.193578-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:37:44.046948-05:00","closed_at":"2026-01-18T16:37:44.046948-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-745","depends_on_id":"kiosk-cli-270","type":"blocks","created_at":"2026-01-18T16:33:13.381603-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-745","depends_on_id":"kiosk-cli-tp8","type":"blocks","created_at":"2026-01-18T16:33:13.795354-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-7q5","title":"Test release pipeline with v0.1.0 tag","description":"Push initial version tag to verify the full pipeline works end-to-end.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:32:46.675915-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:40:58.517201-05:00","closed_at":"2026-01-18T16:40:58.517201-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-7q5","depends_on_id":"kiosk-cli-270","type":"blocks","created_at":"2026-01-18T16:33:13.511227-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-7q5","depends_on_id":"kiosk-cli-moi","type":"blocks","created_at":"2026-01-18T16:33:13.927176-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-83p","title":"Update install/run path to refresh already-cloned apps and run change-review prompt","description":"When app already exists in .kiosk/apps, check remote default branch for new commits. If updates exist: stash local changes, pull fast-forward/merge, then unstash. Record old commit and new commit. Then run Claude with a prompt focused on reviewing changes between commits, resolving any unstash conflicts, and applying config fixes; note the app was previously set up.","status":"closed","priority":2,"issue_type":"task","owner":"cole@kiosk.app","created_at":"2026-01-22T16:52:59.854323044Z","created_by":"Cole Brown","updated_at":"2026-01-22T18:35:36.100632377Z","closed_at":"2026-01-22T18:35:36.100632377Z","close_reason":"Implemented update-on-run with stash/pull/unstash and change-review prompt."}
{"id":"kiosk-cli-8kw","title":"Expose or remove unused client methods","description":"GetInstallPrompt and GetCreatePrompt exist in the client but aren't exposed as CLI subcommands. Decide whether to expose them or remove them.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:05:06.458343-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:05:50.09112-05:00","closed_at":"2026-01-19T13:05:50.09112-05:00","close_reason":"Methods are used by run.go and publish.go - not exposed as api subcommands by design"}
{"id":"kiosk-cli-8xc","title":"Add --sandbox argument to run command","description":"Add support for sandboxing to the run command with configurable isolation levels (fs, net, default). The --sandbox flag accepts a comma-separated list of values and dynamically creates or updates the .claude/settings.json file with the appropriate sandbox configuration.","status":"closed","priority":2,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-19T11:41:40.810577-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T11:48:30.370563-05:00","closed_at":"2026-01-19T11:48:30.370563-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-8xc.1","title":"Add --sandbox argument parsing to run command","description":"Add a --sandbox flag to the run command that accepts a comma-separated list of values. Valid values are: 'default', 'fs', 'net'","acceptance_criteria":"Run command accepts --sandbox flag\\nComma-separated values are parsed successfully\\nInvalid values are rejected or handled appropriately","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T11:41:44.795026-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T11:48:30.316177-05:00","closed_at":"2026-01-19T11:48:30.316177-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-8xc.1","depends_on_id":"kiosk-cli-8xc","type":"parent-child","created_at":"2026-01-19T11:41:44.795728-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-8xc.2","title":"Implement sandbox value transformation","description":"If 'default' is present in the sandbox values, rewrite the list to include 'fs'. Always deduplicate the values before processing.","acceptance_criteria":"Default value expands to include 'fs'\\nValues are deduplicated before use\\nTransformation logic is tested with various input combinations","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T11:41:48.21998-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T11:48:30.328682-05:00","closed_at":"2026-01-19T11:48:30.328682-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-8xc.2","depends_on_id":"kiosk-cli-8xc","type":"parent-child","created_at":"2026-01-19T11:41:48.220653-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-8xc.3","title":"Create/update .claude/settings.json with sandbox config","description":"Dynamically create or update the .claude/settings.json file after cloning the repository locally. Ensure a valid file exists (create default empty object if not). Update it with sandbox configuration based on the parsed values:\\n\\n{ \"sandbox\": {\\n  \"enabled\": true,\\n  \"allowedDirectories\": [\"/path/to/our/repo\"], // only if 'fs' is enabled, otherwise don't include\\n  \"allowedDomains\": [] // only if 'net' is enabled, otherwise don't include\\n} }","acceptance_criteria":"Settings file is created if missing\\nExisting settings file is preserved and updated\\nfs mode adds allowedDirectories to repo path\\nnet mode adds allowedDomains array\\nOnly relevant fields are included based on mode","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T11:41:57.926754-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T11:48:30.342882-05:00","closed_at":"2026-01-19T11:48:30.342882-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-8xc.3","depends_on_id":"kiosk-cli-8xc","type":"parent-child","created_at":"2026-01-19T11:41:57.927344-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-8xc.4","title":"Test and validate sandbox feature","description":"Add comprehensive tests for the sandbox feature including:\\n- Argument parsing with various inputs\\n- Value transformation (default expansion, deduplication)\\n- Settings file creation and update scenarios\\n- Edge cases and error handling","acceptance_criteria":"Tests cover all input scenarios\\nTests verify correct settings.json structure\\nEdge cases are handled appropriately\\nIntegration tests validate end-to-end behavior","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T11:42:04.516775-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T11:48:30.356946-05:00","closed_at":"2026-01-19T11:48:30.356946-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-8xc.4","depends_on_id":"kiosk-cli-8xc","type":"parent-child","created_at":"2026-01-19T11:42:04.517385-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-d9z","title":"Split publish workflow into init + publish commands","description":"Split the current monolithic publish command into two focused commands:\n\n1. **kiosk init** - Creates KIOSK.md file in the repository\n2. **kiosk publish** - Publishes the app to the Kiosk registry\n\nThis mirrors the API change where /api/create was split into /api/prompts/init and /api/prompts/publish.\n\n## Changes Required\n- Add new `kiosk init` command\n- Update `kiosk publish` to use new endpoint and warn if KIOSK.md missing\n- Update `kiosk api` subcommands (rename create-prompt → publish-prompt, add init-prompt)","status":"closed","priority":1,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-19T16:04:46.202538-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T16:18:41.254117-05:00","closed_at":"2026-01-19T16:18:41.254117-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-ehn","title":"Use bytes.NewReader instead of strings.NewReader","description":"In client.go CreateApp/UpdateApp, avoid string conversion by using bytes.NewReader(body) directly.","status":"closed","priority":3,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:05:05.937278-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:07:01.68452-05:00","closed_at":"2026-01-19T13:07:01.68452-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-ek3","title":"MVP: kiosk CLI for Kiosk App Platform","description":"Steam for Claude Code Apps - CLI component for interacting with kiosk.app\n\n## Overview\n\nThe kiosk CLI enables users to:\n- Run Claude Code apps from the Kiosk marketplace\n- Publish their own apps to the platform\n- Manage locally installed apps\n\n## Key Concepts\n\n- Apps are hosted on GitHub but published/indexed via kiosk.app API\n- `~/.kiosk/` is the working directory (config + installed apps)\n- `org/repo` shorthand for referencing apps\n- KIOSK.md in repos contains Claude Code instructions for setup/run\n\n## Commands (MVP)\n\n- `kiosk run org/repo` - Install (if needed) and run an app\n- `kiosk publish` - Publish current repo to kiosk.app\n- `kiosk rm org/repo` - Remove a locally installed app\n- `kiosk ls` - List installed apps\n- `kiosk new` - Initialize a new kiosk app project\n\n## Deferred\n\n- `kiosk update` - Self-update CLI (needs CI/releases)","status":"closed","priority":2,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:05:25.904613-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:34:22.490177-05:00","closed_at":"2026-01-18T16:34:22.490177-05:00","close_reason":"All MVP tasks completed"}
{"id":"kiosk-cli-ek3.1","title":"Initialize ~/.kiosk working directory and config","description":"## Summary\n\nCreate the foundational working directory structure at `~/.kiosk/` with config management.\n\n## Requirements\n\n- `~/.kiosk/` directory for all kiosk data\n- `~/.kiosk/config.json` for configuration\n- `~/.kiosk/apps/` for installed apps (cloned repos)\n\n## Config Schema (initial)\n\n```json\n{\n  \"apiUrl\": \"https://kiosk.app\",\n  \"appsDir\": \"~/.kiosk/apps\"\n}\n```\n\n## Behavior\n\n- Commands that need the working directory should check if it exists\n- If not, create it with sensible defaults\n- Provide a helper function/package for config access\n\n## Implementation Notes\n\n- Consider a `internal/config` package\n- Default apiUrl should be `https://kiosk.app` (override via config for dev)","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:07.287614-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:15:42.82384-05:00","closed_at":"2026-01-18T13:15:42.82384-05:00","close_reason":"Implemented internal/config package","dependencies":[{"issue_id":"kiosk-cli-ek3.1","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:07.288312-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.2","title":"Implement 'kiosk run org/repo' command","description":"## Summary\n\nRun (install if needed, then run) a Claude Code app from the Kiosk marketplace.\n\n## Usage\n\n```bash\nkiosk run org/repo\n```\n\n## Behavior\n\n1. Ensure working directory is initialized (~/.kiosk/)\n2. Check if app is in the index (`~/.kiosk/apps.json`)\n\n### If app is NOT installed:\n1. Fetch app info from `GET /api/kiosk/[appId]` to verify it exists\n2. Call `GET /api/kiosk/[appId]/install` to get installation prompt\n3. Create directory `~/.kiosk/apps/org/repo`\n4. **Register app in index** with metadata from API\n5. Exec Claude Code with the install prompt (which handles cloning, setup, and running)\n\n### If app IS installed:\n1. cd into `~/.kiosk/apps/org/repo`\n2. Exec Claude Code with prompt to run the app (reference KIOSK.md)\n\n## API Endpoints\n\n- `GET /api/kiosk/[appId]` - Get app metadata\n- `GET /api/kiosk/[appId]/install` - Get installation prompt (plain text)\n\n## Implementation Notes\n\n- Use `internal/appindex` package to check/register apps\n- Map `org/repo` to appId (the app's slug in kiosk.app)\n- Shell out to `claude` CLI with the prompt\n- The install prompt handles git clone, setup, etc.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:40.795046-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:32:15.263334-05:00","closed_at":"2026-01-18T13:32:15.263334-05:00","close_reason":"Implemented run command with API client and Claude exec","dependencies":[{"issue_id":"kiosk-cli-ek3.2","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:40.795724-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.3","title":"Implement 'kiosk publish' command","description":"## Summary\n\nPublish the current repository to kiosk.app marketplace.\n\n## Usage\n\n```bash\nkiosk publish\n# Run from within a git repo with a GitHub remote\n```\n\n## Behavior\n\n1. Ensure working directory is initialized (~/.kiosk/)\n2. Call `GET /api/create` to fetch the publishing prompt (plain text)\n3. Exec Claude Code with the prompt\n4. Claude Code will:\n   - Auto-detect project info (package.json, README, git remote, etc.)\n   - Check for Kiosk.md (help create one if missing)\n   - Confirm details with user\n   - Call `POST /api/kiosk` to publish\n   - Output kiosk.app link\n\n## API Endpoints\n\n- `GET /api/create` - Returns plain text prompt for Claude Code\n- `POST /api/kiosk` - Creates the app entry (called by Claude Code)\n\n## Implementation Notes\n\n- Fetch prompt from API, pass to `claude` CLI\n- The prompt handles all the interactive flow\n- CLI just needs to bootstrap the process","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:41.209255-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:39:37.680736-05:00","closed_at":"2026-01-18T13:39:37.680736-05:00","close_reason":"Implemented publish command","dependencies":[{"issue_id":"kiosk-cli-ek3.3","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:41.20999-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.4","title":"Implement 'kiosk rm org/repo' command","description":"## Summary\n\nRemove a locally installed app.\n\n## Usage\n\n```bash\nkiosk rm org/repo\n```\n\n## Behavior\n\n1. Check if app is in the index (`~/.kiosk/apps.json`)\n2. If not in index, show error message\n3. If in index, prompt for confirmation (or use --force flag)\n4. **Remove from index** and delete the directory at `~/.kiosk/apps/org/repo`\n\n## Implementation Notes\n\n- Use `internal/appindex` package to check/unregister apps\n- Consider --force flag to skip confirmation\n- Should NOT remove from kiosk.app (that would be unpublish)\n- Handle case where directory is missing but app is in index (just clean up index)","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:41.612562-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:24:20.522731-05:00","closed_at":"2026-01-18T13:24:20.522731-05:00","close_reason":"Implemented rm command with --force flag","dependencies":[{"issue_id":"kiosk-cli-ek3.4","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:41.613578-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.5","title":"Implement 'kiosk ls' command","description":"## Summary\n\nList locally installed apps from the app index.\n\n## Usage\n\n```bash\nkiosk ls\n```\n\n## App Index\n\nApps are tracked in `~/.kiosk/apps.json`:\n\n```json\n{\n  \"apps\": {\n    \"org/repo\": {\n      \"name\": \"App Name\",\n      \"description\": \"Short description\",\n      \"gitUrl\": \"https://github.com/org/repo\",\n      \"installedAt\": \"2026-01-18T12:00:00Z\",\n      \"updatedAt\": \"2026-01-18T12:00:00Z\"\n    }\n  }\n}\n```\n\n## Behavior\n\n1. Load app index from `~/.kiosk/apps.json`\n2. For each app in index, validate directory exists at `~/.kiosk/apps/org/repo`\n3. Display list with status (installed / missing)\n4. Print count at the end\n\n## Output Format\n\n```\nInstalled apps:\n\n  anthropic/claude-starter\n  reflective-technologies/cool-app\n\n2 apps installed\n```\n\nEmpty state:\n```\nNo apps installed.\n```\n\n## Implementation Notes\n\n- Create `internal/appindex` package for index management\n- Index is source of truth; filesystem is validated against it\n- Other commands (run, rm) will use this package to register/unregister apps","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:41.947476-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:20:34.140385-05:00","closed_at":"2026-01-18T13:20:34.140385-05:00","close_reason":"Implemented appindex package and ls command","dependencies":[{"issue_id":"kiosk-cli-ek3.5","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:41.948167-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.6","title":"Implement 'kiosk new' command","description":"## Summary\n\nInitialize a new Kiosk app project with templates.\n\n## Usage\n\n```bash\nkiosk new\n# or\nkiosk new my-app-name\n```\n\n## Behavior\n\n1. Create project directory (if name provided)\n2. Initialize with KIOSK.md template\n3. Possibly other starter files\n\n## Open Questions\n\n- What should KIOSK.md template contain?\n- Should we initialize a git repo?\n- Any other starter files (README, .gitignore)?\n- Reference kiosk-four for existing guidelines\n\n## Notes\n\nLeave implementation details open-ended - we'll figure out the best template structure together during implementation.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:06:42.319791-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:45:59.60096-05:00","closed_at":"2026-01-18T13:45:59.60096-05:00","close_reason":"Implemented new command with KIOSK.md template","dependencies":[{"issue_id":"kiosk-cli-ek3.6","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:06:42.320555-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.7","title":"Implement 'kiosk config' command","description":"## Summary\n\nManage kiosk CLI configuration via command line.\n\n## Usage\n\n```bash\n# Get a config value\nkiosk config get apiUrl\n\n# Set a config value\nkiosk config set apiUrl http://localhost:3000\n\n# Show all config\nkiosk config list\n```\n\n## Behavior\n\n- Uses JSON path syntax for nested values (if we add them later)\n- Reads/writes to `~/.kiosk/config.json`\n- `set` creates the config file if it doesn't exist\n\n## Examples\n\n```bash\n# Switch to local dev server\nkiosk config set apiUrl http://localhost:3000\n\n# Switch back to production\nkiosk config set apiUrl https://kiosk.app\n\n# Check current config\nkiosk config list\n```\n\n## Implementation Notes\n\n- Subcommands: `get`, `set`, `list`\n- Initialize working directory if needed\n- Pretty print for `list` output","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:11:45.926295-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T13:15:42.889717-05:00","closed_at":"2026-01-18T13:15:42.889717-05:00","close_reason":"Implemented kiosk config command","dependencies":[{"issue_id":"kiosk-cli-ek3.7","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:11:45.928485-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-ek3.8","title":"Investigate claude CLI not found when exec'ing from kiosk","description":"## Problem\n\nWhen running `kiosk publish` or `kiosk run`, the exec'd `claude` command fails with:\n```\nError: exec: \"claude\": executable file not found in $PATH\n```\n\nHowever, `claude` is installed and works in the user's shell (we're using it right now).\n\n## Likely Cause\n\nThe Go `exec.Command` may not be inheriting the full shell PATH, especially if:\n- claude is installed via a version manager or non-standard location\n- PATH is set in shell config (.zshrc, .bashrc) but not in the login environment\n\n## Potential Fixes\n\n1. Use absolute path to claude (detect with `which claude` first)\n2. Explicitly inherit PATH from parent process\n3. Run through a shell: `exec.Command(\"sh\", \"-c\", \"claude ...\")`\n4. Document that claude must be in system PATH\n\n## To Investigate\n\n- Check where claude is installed: `which claude`\n- Check if PATH differs between shell and Go exec\n- Test with absolute path","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T13:41:09.926864-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:24:35.101558-05:00","closed_at":"2026-01-18T16:24:35.101558-05:00","close_reason":"Fallback to interactive shell when claude not on PATH","dependencies":[{"issue_id":"kiosk-cli-ek3.8","depends_on_id":"kiosk-cli-ek3","type":"parent-child","created_at":"2026-01-18T13:41:09.927527-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-jt3","title":"kiosk run: clone app repo when missing","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:16:48.118178-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:18:26.856445-05:00","closed_at":"2026-01-18T16:18:26.856445-05:00","close_reason":"Clone repo before running claude when app missing"}
{"id":"kiosk-cli-kn8","title":"Update kiosk api prompt subcommands","description":"Update `kiosk api` subcommands for prompt endpoints:\n- Rename `create-prompt` → `publish-prompt` (hits /api/prompts/publish)\n- Add new `init-prompt` subcommand (hits /api/prompts/init)\n- Update api.Client to have GetInitPrompt() and GetPublishPrompt() methods\n- Remove/deprecate old GetCreatePrompt() method","status":"closed","priority":1,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T16:05:03.241332-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T16:18:41.212518-05:00","closed_at":"2026-01-19T16:18:41.212518-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-kn8","depends_on_id":"kiosk-cli-d9z","type":"parent-child","created_at":"2026-01-19T16:05:12.072265-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-moi","title":"Create GitHub Actions release workflow","description":"Add .github/workflows/release.yaml that triggers on version tags (v*) and runs GoReleaser to publish releases.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:32:46.446109-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:37:54.447173-05:00","closed_at":"2026-01-18T16:37:54.447173-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-moi","depends_on_id":"kiosk-cli-270","type":"blocks","created_at":"2026-01-18T16:33:13.442295-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-moi","depends_on_id":"kiosk-cli-745","type":"blocks","created_at":"2026-01-18T16:33:13.861083-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-o9u","title":"API subcommand polish","status":"closed","priority":2,"issue_type":"epic","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:04:57.261447-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:08:00.263873-05:00","closed_at":"2026-01-19T13:08:00.263873-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-o9u","depends_on_id":"kiosk-cli-vl2","type":"blocks","created_at":"2026-01-19T13:05:30.473354-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-o9u","depends_on_id":"kiosk-cli-ehn","type":"blocks","created_at":"2026-01-19T13:05:30.528143-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-o9u","depends_on_id":"kiosk-cli-6x1","type":"blocks","created_at":"2026-01-19T13:05:30.586142-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-o9u","depends_on_id":"kiosk-cli-8kw","type":"blocks","created_at":"2026-01-19T13:05:30.646404-05:00","created_by":"Cole Brown"},{"issue_id":"kiosk-cli-o9u","depends_on_id":"kiosk-cli-pcw","type":"blocks","created_at":"2026-01-19T13:05:30.710453-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-pcw","title":"Document org/repo handling behavior","description":"GetApp extracts just the repo name from org/repo format, which could cause collisions. Add a comment documenting this behavior.","status":"closed","priority":3,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:05:06.720499-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:08:00.204998-05:00","closed_at":"2026-01-19T13:08:00.204998-05:00","close_reason":"Closed"}
{"id":"kiosk-cli-tp8","title":"Add version flag to CLI","description":"Ensure --version flag works and displays version injected at build time via ldflags","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-18T16:32:45.902333-05:00","created_by":"Cole Brown","updated_at":"2026-01-18T16:37:18.504968-05:00","closed_at":"2026-01-18T16:37:18.504968-05:00","close_reason":"Closed","dependencies":[{"issue_id":"kiosk-cli-tp8","depends_on_id":"kiosk-cli-270","type":"blocks","created_at":"2026-01-18T16:33:13.321719-05:00","created_by":"Cole Brown"}]}
{"id":"kiosk-cli-vl2","title":"Use local flags instead of shared inputFile var","description":"Both create and update commands bind to the same package-level inputFile var. Use cmd.Flags().GetString() locally instead.","status":"closed","priority":2,"issue_type":"task","owner":"bigswim@gmail.com","created_at":"2026-01-19T13:05:05.668538-05:00","created_by":"Cole Brown","updated_at":"2026-01-19T13:06:44.218048-05:00","closed_at":"2026-01-19T13:06:44.218048-05:00","close_reason":"Closed"}
